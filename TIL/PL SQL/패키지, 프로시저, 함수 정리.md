
## ✅ 요약 비교표

| 항목        | 프로시저 (Procedure)          | 함수 (Function)                | 패키지 (Package)                  |
| --------- | ------------------------- | ---------------------------- | ------------------------------ |
| **정의**    | 하나 이상의 작업을 수행하는 PL/SQL 블록 | 하나의 값을 반환하는 PL/SQL 블록        | 여러 프로시저와 함수를 하나의 논리 단위로 묶은 모듈  |
| **반환값**   | `OUT` 파라미터 또는 없음          | `RETURN`을 통해 **반드시 1개** 반환   | 직접 반환값 없음, 내부에 있는 함수/프로시저에서 처리 |
| **호출방식**  | `EXEC` 또는 PL/SQL 블록 내에서   | `SELECT`, `:=` 대입, PL/SQL 블록 | 내부 객체를 통해 호출 (`패키지명.프로시저()`)   |
| **사용 목적** | 데이터 처리, 트랜잭션 수행, 반복 작업    | 특정 계산 또는 변환 로직 (조회 목적)       | 관련 기능을 그룹화하여 재사용성과 가독성 향상      |
| **실무 예시** | 주문 등록, 로그 저장, 데이터 복사 등    | 포맷 변환, 수치 계산, 코드 변환 등        | 회원 관리 패키지, 결제 처리 패키지 등         |
| **트랜잭션**  | 지원 (COMMIT/ROLLBACK 가능)   | 지양 (순수 계산에 가까움)              | 내부 로직에 따라 사용 가능                |
| **재사용성**  | 중간                        | 높음 (SELECT에서 호출 가능)          | 가장 높음 (모듈화)                    |
| **성능**    | 일반적                       | 빠름 (컴파일 후 실행)                | **좋음** (컴파일 캐시로 최적화)           |
| **제한 사항** | 복잡한 반환값 관리 어려움            | 하나만 반환, DML 사용 제한 있음         | 전체 패키지를 다시 컴파일해야 할 수도 있음       |

---

## 🧩 각각 자세히 설명

### 1. 📦 **패키지 (PACKAGE)**

#### ✅ 정의:

- 관련된 **함수, 프로시저, 변수, 커서, 타입** 등을 **논리적으로 묶어놓은 객체**
    
- `PACKAGE SPEC`(인터페이스)와 `PACKAGE BODY`(구현부)로 구성됨
    

#### ✅ 사용 시점:

- 기능별로 모듈화하고 싶을 때
    
- 복잡한 비즈니스 로직을 체계적으로 관리하고 싶을 때
    

#### ✅ 장점:

- **모듈화와 재사용성** ↑
    
- **성능 향상**: 한 번 로딩되면 캐시에 올라가 빠름
    
- 변수와 상수를 공유할 수 있음 (패키지 전역 변수)
    
- 보안: 외부에 인터페이스만 공개하고 내부 구현 숨김 가능
    

#### ❌ 단점 및 한계:

- 부분 컴파일 불가 → 일부 수정해도 전체 BODY 재컴파일 필요
    
- 너무 많은 기능을 넣으면 비대해짐 → 유지보수 어려움
    

---

### 2. 🔁 **프로시저 (PROCEDURE)**

#### ✅ 정의:

- **작업 중심**의 PL/SQL 블록
    
- 반환값이 있어도 `OUT` 또는 `IN OUT` 파라미터로 처리
    

#### ✅ 사용 시점:

- **데이터 삽입, 수정, 삭제 등 처리 로직**에 사용
    
- 배치 작업, 트리거 호출, 시스템 처리 로직 등에 유용
    

#### ✅ 장점:

- **트랜잭션 제어** 가능 (COMMIT, ROLLBACK)
    
- 복잡한 비즈니스 로직 구현 가능
    
- OUT 파라미터로 여러 값 반환 가능
    

#### ❌ 단점 및 한계:

- SELECT 구문에서 직접 사용 불가
    
- 반환값이 복잡해서 유지보수가 어렵기도 함
    

---

### 3. ➕ **함수 (FUNCTION)**

#### ✅ 정의:

- **하나의 값을 반환**하는 PL/SQL 블록
    
- RETURN 필수, 일반적으로 SELECT 안에서 호출
    

#### ✅ 사용 시점:

- 계산, 포맷 변환, 특정 로직 재사용
    
- SELECT, WHERE, JOIN 절 등에 자주 사용
    

#### ✅ 장점:

- **재사용성 최고**: SELECT에서도 사용 가능
    
- 단일 값 반환 구조로 가독성 좋음
    

#### ❌ 단점 및 한계:

- 기본적으로 **DML 문 사용 제한** (AUTONOMOUS_TRANSACTION으로 우회 가능)
    
- 반환값이 반드시 1개
    
- 무거운 로직 구현에는 부적합